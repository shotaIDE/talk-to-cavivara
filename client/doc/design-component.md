# コンポーネント設計ガイド

## 概要

このドキュメントでは、Flutter アプリケーションにおけるコンポーネント（Widget）の設計と実装方針について説明します。コンポーネントの分離により、コードの再利用性と保守性を向上させることができます。

## コンポーネント分離の原則

### 1. 単一責任の原則

各コンポーネントは単一の責任を持ち、明確な目的を果たすべきです。複数の機能を含むコンポーネントは分離を検討してください。

**例：** `ClearChatConfirmationDialog`

- 責任：チャット履歴クリアの確認ダイアログを表示する
- 含まれる機能：確認メッセージ表示、確認スキップオプション、ユーザー操作結果の返却

### 2. 再利用性の向上

特定の画面に依存せず、複数箇所で使用できるコンポーネントは `lib/ui/component/` ディレクトリに配置します。

```dart
// ❌ Bad: 特定の画面内にプライベートクラスとして定義
class _ClearChatConfirmationDialog extends StatefulWidget {
  // ...
}

// ✅ Good: 再利用可能なパブリッククラスとして分離
class ClearChatConfirmationDialog extends StatefulWidget {
  // ...
}
```

## ディレクトリ構造

```
lib/ui/
├── component/           # 再利用可能なコンポーネント
│   └── clear_chat_confirmation_dialog.dart
└── feature/            # 画面固有のコンポーネント
    └── home/
        └── home_screen.dart
```

## コンポーネント分離のプロセス

### 1. 分離対象の特定

以下の条件に該当するクラスは分離を検討してください：

- プライベートクラス（`_` プレフィックス）で、他の画面でも使用する可能性がある
- 単一の明確な責任を持つ
- 特定の画面に強く依存していない
